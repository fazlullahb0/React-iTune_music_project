{"ast":null,"code":"var _jsxFileName = \"/home/faiz/vscode/iTunes_music/src/Components/SearchItunes/SearchItunes.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as itunesSearchActions from \"../../redux-core/itunesSearch/actions\";\nimport ResultsList from \"../List\";\nimport DisplayCard from \"../DIsplayCard\";\nimport { TextField, Typography } from \"@material-ui/core\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport { withStyles } from '@material-ui/core';\n\nconst styles = () => ({\n  divContainer: {\n    padding: 25,\n    margin: \"10px\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    height: \"320px\",\n    border: \"2px solid green\"\n  }\n});\n\nclass SearchItunes extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      searchTerm: \"\",\n      selectedItem: null,\n      audioUrl: \"\",\n      play: false,\n      pause: true,\n      previewAudio: null\n    };\n\n    this.handleSearchTermChange = e => {\n      if (e.target.value === \"\") {\n        this.setState({\n          searchTerm: \"\"\n        });\n      }\n\n      this.setState({\n        searchTerm: e.target.value\n      });\n      this.handleSearch(e.target.value);\n    };\n\n    this.handleSearch = searchTerm => {\n      const {\n        searchItunes\n      } = this.props;\n      searchItunes(searchTerm);\n    };\n\n    this.handleItemSelection = item => {\n      this.setState({\n        selectedItem: item,\n        audioUrl: item.previewUrl,\n        play: false,\n        pause: true\n      });\n    };\n\n    this.handlePlayButton = () => {\n      const {\n        audioUrl,\n        previewAudio\n      } = this.state;\n      const newPreviewAudio = new Audio(audioUrl);\n\n      if (previewAudio) {\n        previewAudio.pause();\n        this.setState({\n          previewAudio: null\n        });\n      }\n\n      this.setState({\n        play: true,\n        pause: false,\n        previewAudio: newPreviewAudio\n      }, () => {\n        this.playAudio();\n      });\n    };\n\n    this.handlePauseButton = () => {\n      this.setState({\n        play: false,\n        pause: true\n      }, () => {\n        this.playAudio();\n      });\n    };\n\n    this.playAudio = () => {\n      const {\n        play,\n        previewAudio\n      } = this.state;\n      return play ? previewAudio.play() : previewAudio.pause();\n    };\n  }\n\n  render() {\n    const {\n      searchTerm,\n      selectedItem,\n      play\n    } = this.state;\n    const {\n      results,\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.divContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      style: {\n        color: \"Green\",\n        marginBottom: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, \"Search iTunes Music\"), /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      value: searchTerm,\n      placeholder: \"Search iTunes Music\",\n      onChange: e => this.handleSearchTermChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(ResultsList, {\n      results: searchTerm.length ? results : [],\n      handleItemSelection: this.handleItemSelection,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    })), selectedItem ? /*#__PURE__*/React.createElement(DisplayCard, {\n      selectedItem: selectedItem,\n      play: play,\n      handlePlayButton: this.handlePlayButton,\n      handlePauseButton: this.handlePauseButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }) : []);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    results: state.itunesSearch.results\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    searchItunes: searchTerm => dispatch({\n      type: itunesSearchActions.SEARCH_ITUNES,\n      searchTerm\n    })\n  };\n};\n\nconst StyledComponent = withStyles(styles)(SearchItunes);\nexport default connect(mapStateToProps, mapDispatchToProps)(StyledComponent);","map":{"version":3,"sources":["/home/faiz/vscode/iTunes_music/src/Components/SearchItunes/SearchItunes.js"],"names":["React","connect","itunesSearchActions","ResultsList","DisplayCard","TextField","Typography","SearchIcon","withStyles","styles","divContainer","padding","margin","display","flexDirection","height","border","SearchItunes","Component","state","searchTerm","selectedItem","audioUrl","play","pause","previewAudio","handleSearchTermChange","e","target","value","setState","handleSearch","searchItunes","props","handleItemSelection","item","previewUrl","handlePlayButton","newPreviewAudio","Audio","playAudio","handlePauseButton","render","results","classes","color","marginBottom","length","mapStateToProps","itunesSearch","mapDispatchToProps","dispatch","type","SEARCH_ITUNES","StyledComponent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport * as itunesSearchActions from \"../../redux-core/itunesSearch/actions\"\nimport ResultsList from \"../List\"\nimport DisplayCard from \"../DIsplayCard\"\nimport {\n    TextField,\n    Typography\n} from \"@material-ui/core\"\nimport SearchIcon from '@material-ui/icons/Search';\nimport { withStyles } from '@material-ui/core'\n\nconst styles = () => ({\n    divContainer: {\n        padding: 25,\n        margin: \"10px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        height: \"320px\",\n        border: \"2px solid green\"\n    }\n})\n\nclass SearchItunes extends React.Component {\n    state={\n        searchTerm: \"\",\n        selectedItem: null,\n        audioUrl: \"\",\n        play: false,\n        pause: true,\n        previewAudio: null\n    }\n\n    handleSearchTermChange = e => {\n\n        if(e.target.value === \"\") {\n            this.setState({\n                searchTerm: \"\"\n            })\n        }\n\n        this.setState({\n            searchTerm: e.target.value\n        })\n\n        this.handleSearch(e.target.value)\n    }\n\n    handleSearch = searchTerm => {\n        const { searchItunes } = this.props\n\n        searchItunes(searchTerm)\n    }\n\n    handleItemSelection = item => {\n        this.setState({\n            selectedItem: item,\n            audioUrl: item.previewUrl,\n            play: false,\n            pause: true,\n        })\n    }\n\n    handlePlayButton = () => {\n        const { audioUrl, previewAudio } = this.state\n        const newPreviewAudio = new Audio(audioUrl)\n\n        if(previewAudio) {\n            previewAudio.pause()\n            \n            this.setState({\n                previewAudio: null\n            })\n        }\n        \n        this.setState({\n            play: true,\n            pause: false,\n            previewAudio: newPreviewAudio\n        }, () => {\n            this.playAudio()\n        })\n    }\n\n    handlePauseButton = () => {\n        this.setState({\n            play: false,\n            pause:true,\n        }, () => {\n            this.playAudio()\n        })\n    }\n\n    playAudio = () => {\n        const { play, previewAudio } = this.state\n\n        return play ? previewAudio.play() : previewAudio.pause()\n    }\n\n\n    render() {\n        const { searchTerm, selectedItem, play } = this.state\n        const { results, classes } = this.props\n\n        return(\n            <>\n                <div className={classes.divContainer}>\n                    <div style={{ display: \"flex\", flexDirection: \"column\"}}>\n                        <Typography \n                            variant=\"h4\" \n                            style={{\n                                color: \"Green\",\n                                marginBottom: 50}}\n                        >\n                            Search iTunes Music\n                        </Typography>\n\n                        <TextField \n                            type=\"text\" \n                            value={searchTerm} \n                            placeholder=\"Search iTunes Music\" \n                            onChange={e => this.handleSearchTermChange(e)} \n                        />\n                    </div>\n\n                    <ResultsList \n                        results={searchTerm.length ? results : []} \n                        handleItemSelection={this.handleItemSelection}\n                    />\n                </div>\n\n                {/* card of selectedItem */}\n                {selectedItem ? (\n                    <DisplayCard \n                        selectedItem={selectedItem}\n                        play={play}\n                        handlePlayButton={this.handlePlayButton}\n                        handlePauseButton={this.handlePauseButton}\n                    />\n                ) : []}\n            </>\n            \n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        results: state.itunesSearch.results\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        searchItunes: searchTerm => dispatch({ \n            type: itunesSearchActions.SEARCH_ITUNES,\n            searchTerm\n        })\n    }\n}\n\nconst StyledComponent = withStyles(styles)(SearchItunes)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StyledComponent)"]},"metadata":{},"sourceType":"module"}